## 1. Основные принципы логического программирования 

- базовые домены
- термы
- использование знаний 
- недетерменизм 


## 2. Основные элементы языка 

Основная (и единcтвенная) конструкция - `терм`.

Терм: 
 - простой 
    - константа (символьные, числовое)
    - переменная (именнованая, анонимные)
 - составной терм 

 Терм: 
 - основной 
 - неосновной

### Составной терм

```
f(t_1, t_2, ..., t_n)
```
- `f` - функтор;
- `t_1, t_2, ..., t_n` - term.

*Функтор* - имя отношения между объектами.

Составной терм фиксирует _знание_ о том, что между термами существует некоторая связь.

## 3. Особенности использовния переменных в Prolog

1) При откате переменная может потерять свое значение, но потом может вернуть.
2) В анонимной переменной нельзя вернуть значение.
3) Все именованные переменные уникальны в пределах предложения.
4) Все анонимные переменные уникальны всегда. 
5) Любой объект можно обозначить переменной.
В вопрос переменные входят с квантором существования.


## 4. Структуры программы 

Разделы.
Обязательная часть: предикаты, база знаний и цель. 

Проограмма состоит из предложений. 
Предложения:
1) ФАКТЫ (формулируются в виде составных термов, то есть записываются как `f(t1,t2...tn)`)   (факты - это безусловная истина) (частный случай правил)
2) ПРАВИЛА -  это способ порождения новых фактов на основе имеющихся. (условная истина)
    ```
    A:-B1,B2...Bk    (правило - это условная истина)
	A 		  - заголовок
	B1,...Bk - тело
    ```

Программа состоит из
 - базы знаний 
 - вопроса

 
1) ВОПРОС - составной терм
    ```
    (V1,V2...Vm - термы)
	V1, V2, ... , Vm - коньюнктивный вопрос   
	V1; V2; ... ; Vm - Дизъюнктивный вопрос
    ```
	
2) ПРОЦЕДУРА - набор фактов и правил, имеющих заголовки с одинаковым функтором и арность(количество аргументов)
    ```
	f(t1,t2,...tn)
	f(t1,t2,...tn) 
    ```

## 4. Понятие процедуры 

Процедура - совокупность фактов и правил,  имеющих заголовок с одинаковыми функторами и одинаковой арностью.

То есть процедура описывает одно отношение, которое невозможно сформулировать в виде одного предложения. Такая процедура называется предикатом.

Предикаты структура -- знания.

## 5. Понятие домена 
Описательная часть - описание позволяет системе ограничить множество значений для каких-либо переменных.
ДОМЕН - множество значений.

## 6. Порядок работы, форма ответа системы 

ПРИ РАБОТЕ ПРОГРАММЫ ЮЗАЮТСЯ 2 БАЗОВЫХ МЕХАНИЗМА.
1) Механизм унификации
2) Механизм отката.(в случае если тупиковая ситуация или резольвента пуста)

Решение данной задачи выражается в виде успеха и необходимой подстановки при истинности вопроса или неудачи.

Подстановка:
1) Это множество пар вида {Xi=ti}
2) ti - термы, не содержащие переменных
3) Xi - переменные

Вычисление с помощью логического программирования представляет собой поэтапное преобразование исходного вопроса, при этом на каждом шаге имеется некая конъюнкция целей, возможность(выводимость, истинность) которой следует доказать. Эта конъюнкция целей называтся _резольвентой_.

Успех достижим, когда резольвента пуста. 
Первое состояние резольвенты -- вопрос. Преобразование резольвенты выполняется с помощью редукции. 

    Редукция -- замена цели телом того правила, заголовок которого унифицируется с целью.


Новая резольвента получается в два этапа: 
1. В текущей резольвенте выберается одна из целей и для неё выполняется редукция => получаем новую коньюнкцию целей(новую резольвенту)
2. К полученной новой резольвенте применяется подстановка, как наибольший общий унификатор цели и заголовка правила, сопоставимого с этой целью.

Процесс прекратится когда
1. Будет получен пустая резольвента => успех доказательства
2. Очередную подцель невозможно унифицировать ни с одним дизъюнктом программы(неудача) => тогда откат(механизм возврата) к той точке, в которой выбирался  унифицирующийся с последней подцелью дизъюнкт. Для этого точка, где выбирался один из возможных унифицируемых с подцелью дизъюнктов, запоминается в специальном стеке, для последующего возврата к ней и выбора альтернативы в случае неудачи.

Если для редукции цели и резольвенты был выбран факт и унификация прошла успешно, то новая резольвента будет содержать на одну цель меньше. 

Если применяется правило, то число целей в резольвенте не уменьшается.

## 7. Алгоритм унификации, правила унификации двух термов.

    Унификация - операция, которая позволяет определить процесс логического вывода. Это основной шаг доказательства, с помощью которого происходит:
    1. двунаправленная передача параметров процедурам 
    2. неразрушающее присваивание 
    3. проверка условий 

_УНИФИКАТОРОМ 2Х ТЕРМОВ_ - называется подстановка(множество пар), которые будучи применена к каждому терму даст одинаковый результат.

_УНИФИЦИЕРУЕМЫЕ ТЕРМЫ_ - такие термы, для которых существует унификатор.

Значение унификации нахождение (подбирание) знания из базы знаний для доказательства истинности вопроса. 

Замена переменных только на уровне тела найденного правила так как переменная уникальна только в рамках одного предложения 

только если была переменная значение для которой было получено на данном шаге но переменная была раньше 

### Основные правила 

стек меток в базе знаний 